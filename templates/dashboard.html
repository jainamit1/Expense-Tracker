<!DOCTYPE html>
<html>
<head>
	{% import "bootstrap/wtf.html" as wtf %}
	<title>Expense Tracker</title>
	<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
	<section>
		<div class="row">
			<div class="col-12" style="text-align: center; background-color: aliceblue; padding-top: 50px;padding-bottom: 50px;">
				Hey, Welcome Back, Below are your Expenses

				
				{% with messages = get_flashed_messages(category_filter=["flash"]) %}
				{% if messages %}
				<div>
				{% for message in messages %}
				<p style="color: red; margin-top: 10px;" >{{ message }} </p>
				{% endfor %}
				</div>
				{% endif %}
			{% endwith %}
			</div>
		</div>
		<div class="row">
			<div class="col-10"></div>
			<div class="col-2">
				<form action='logout' method='POST'>
					<button>Logout</button>
				</form>
			</div>
		</div>
	</section>

	
	<section>
		<div class="row">
			<div class="col-12" style="padding-left: 100px;padding-right: 100px;text-align: center;">

				{{message}}
				<form action='/income' method ='POST'>

					{{wtf.form_field(income_form.income_src)}}
					{{wtf.form_field(income_form.income_amt)}}
					<br>
					{{wtf.form_field(income_form.submit, class='btn btn-info')}}
				
				</form>
			</div>
		</div>
		<div class="row">
			<div class="col-12" style="padding-left: 100px;padding-right: 100px;">
				<form action='/expense' method ='POST'>

					{{wtf.form_field(expense_form.expense_src)}}
					{{wtf.form_field(expense_form.expense_amt)}}
					<br>
					{{wtf.form_field(expense_form.submit, class='btn btn-info')}}
				
				</form>
			</div>
		</div>


	</section>
	
	<br><br><br>


	<table class="table" style="margin-left: 50px;">
		{% if data is not none%}
		<thead class="thead-dark">
		  <tr>
			<th scope="col">#</th>
			<th scope="col">Amount</th>
			<th scope="col">Source</th>
		  </tr>
		</thead>
		<tbody>
			{% for each in data%}
		  <tr>
			<th scope="row">{{each[1]}}</th>
			<td>{{each[2]}}</td>
			<td>{{each[3]}}</td>
		  </tr>
		  {% endfor %}
		</tbody>
		{%endif%}
		</table>


</body>
</html>